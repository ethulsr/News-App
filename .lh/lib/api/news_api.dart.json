{
    "sourceFile": "lib/api/news_api.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1720074504017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1720165726648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n \r\n       if (response.statusCode == 200) {\r\n         final data = json.decode(response.body);\r\n         return (data['articles'] as List)\r\n-            .map((article) => NewsArticle.fromJson(article))\r\n+            .map((article) => NewsArticle.fromJson(article,''))\r\n             .toList();\r\n       } else {\r\n         throw Exception('Failed to load top headlines: ${response.statusCode}');\r\n       }\r\n@@ -34,9 +34,9 @@\n \r\n       if (response.statusCode == 200) {\r\n         final data = json.decode(response.body);\r\n         return (data['articles'] as List)\r\n-            .map((article) => NewsArticle.fromJson(article))\r\n+            .map((article) => NewsArticle.fromJson(article, query))\r\n             .toList();\r\n       } else {\r\n         throw Exception('Failed to search news: ${response.statusCode}');\r\n       }\r\n@@ -45,17 +45,17 @@\n       throw Exception('Failed to search news');\r\n     }\r\n   }\r\n \r\n-  Future<List<NewsArticle>> fetchCategoryNews(String category) async {\r\n+ Future<List<NewsArticle>> fetchCategoryNews(String category) async {\r\n     try {\r\n       final response = await http.get(Uri.parse(\r\n           '$baseUrl/top-headlines?category=$category&apiKey=$apiKey'));\r\n \r\n       if (response.statusCode == 200) {\r\n         final data = json.decode(response.body);\r\n         return (data['articles'] as List)\r\n-            .map((article) => NewsArticle.fromJson(article))\r\n+            .map((article) => NewsArticle.fromJson(article, category))\r\n             .toList();\r\n       } else {\r\n         throw Exception('Failed to load category news: ${response.statusCode}');\r\n       }\r\n"
                }
            ],
            "date": 1720074504017,
            "name": "Commit-0",
            "content": "// ignore_for_file: avoid_print\r\n\r\nimport 'dart:convert';\r\nimport 'package:http/http.dart' as http;\r\nimport 'package:news_today/models/news_models.dart';\r\n\r\nclass NewsApi {\r\n  final String apiKey = '070f3141535e461d9195a669b892e8dd';\r\n  final String baseUrl = 'https://newsapi.org/v2';\r\n\r\n  Future<List<NewsArticle>> fetchTopHeadlines() async {\r\n    try {\r\n      final response = await http\r\n          .get(Uri.parse('$baseUrl/top-headlines?country=us&apiKey=$apiKey'));\r\n\r\n      if (response.statusCode == 200) {\r\n        final data = json.decode(response.body);\r\n        return (data['articles'] as List)\r\n            .map((article) => NewsArticle.fromJson(article))\r\n            .toList();\r\n      } else {\r\n        throw Exception('Failed to load top headlines: ${response.statusCode}');\r\n      }\r\n    } catch (e) {\r\n      print('Exception during fetchTopHeadlines: $e');\r\n      throw Exception('Failed to load top headlines');\r\n    }\r\n  }\r\n\r\n  Future<List<NewsArticle>> searchNews(String query) async {\r\n    try {\r\n      final response = await http\r\n          .get(Uri.parse('$baseUrl/everything?q=$query&apiKey=$apiKey'));\r\n\r\n      if (response.statusCode == 200) {\r\n        final data = json.decode(response.body);\r\n        return (data['articles'] as List)\r\n            .map((article) => NewsArticle.fromJson(article))\r\n            .toList();\r\n      } else {\r\n        throw Exception('Failed to search news: ${response.statusCode}');\r\n      }\r\n    } catch (e) {\r\n      print('Exception during searchNews: $e');\r\n      throw Exception('Failed to search news');\r\n    }\r\n  }\r\n\r\n  Future<List<NewsArticle>> fetchCategoryNews(String category) async {\r\n    try {\r\n      final response = await http.get(Uri.parse(\r\n          '$baseUrl/top-headlines?category=$category&apiKey=$apiKey'));\r\n\r\n      if (response.statusCode == 200) {\r\n        final data = json.decode(response.body);\r\n        return (data['articles'] as List)\r\n            .map((article) => NewsArticle.fromJson(article))\r\n            .toList();\r\n      } else {\r\n        throw Exception('Failed to load category news: ${response.statusCode}');\r\n      }\r\n    } catch (e) {\r\n      print('Exception during fetchCategoryNews: $e');\r\n      throw Exception('Failed to load category news');\r\n    }\r\n  }\r\n}\r\n"
        }
    ]
}