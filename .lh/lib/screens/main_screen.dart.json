{
    "sourceFile": "lib/screens/main_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1720017692489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1720074504044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,10 @@\n import 'package:news_today/widgets/carousel_slider.dart';\r\n import 'package:news_today/widgets/news_list_items.dart';\r\n \r\n class MainScreen extends StatelessWidget {\r\n+  const MainScreen({super.key});\r\n+\r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return Scaffold(\r\n       backgroundColor: apptheme.scaffoldColor,\r\n"
                },
                {
                    "date": 1720166913690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,9 +55,12 @@\n           return BottomNavBar(\r\n             currentIndex: currentIndex,\r\n             onTap: (index) {\r\n               if (index == 2) {\r\n-                showSearch(context: context, delegate: NewsSearchDelegate());\r\n+                showSearch(context: context, delegate: NewsSearchDelegate()).then((_) {\r\n+                  BlocProvider.of<NewsBloc>(context).add(ResetNews());\r\n+                  BlocProvider.of<NewsBloc>(context).add(FetchTopHeadlines());\r\n+                });\r\n               } else {\r\n                 BlocProvider.of<NavigationBloc>(context).add(SelectTab(index));\r\n                 if (index == 0) {\r\n                   BlocProvider.of<NewsBloc>(context).add(ResetNews());\r\n"
                },
                {
                    "date": 1720270069640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n             ),\r\n             SizedBox(\r\n               width: 10,\r\n             ),\r\n-            ModifiedTexts(text: 'Today', color: Colors.white, size: 35),\r\n+            ModifiedTexts(text: 'Today', color: Colors.yellow, size: 35),\r\n           ],\r\n         ),\r\n       ),\r\n       body: BlocBuilder<NavigationBloc, NavigationState>(\r\n"
                },
                {
                    "date": 1720270088701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n               Padding(\r\n                 padding: const EdgeInsets.symmetric(horizontal: 12.0),\r\n                 child: ModifiedTexts(\r\n                   text: 'Recent News',\r\n-                  color: Colors.white,\r\n+                  color: Colors.yellow,\r\n                   size: 24,\r\n                 ),\r\n               ),\r\n               SizedBox(height: 10),\r\n"
                }
            ],
            "date": 1720017692489,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:flutter_bloc/flutter_bloc.dart';\r\nimport 'package:news_today/blocs/nav/navigation_bloc.dart';\r\nimport 'package:news_today/blocs/news/news_bloc.dart';\r\nimport 'package:news_today/models/news_models.dart';\r\nimport 'package:news_today/screens/categories_screen.dart';\r\nimport 'package:news_today/screens/news_search.dart';\r\nimport 'package:news_today/utils/apptheme.dart';\r\nimport 'package:news_today/utils/text.dart';\r\nimport 'package:news_today/widgets/bottom_nav_bar.dart';\r\nimport 'package:news_today/widgets/carousel_slider.dart';\r\nimport 'package:news_today/widgets/news_list_items.dart';\r\n\r\nclass MainScreen extends StatelessWidget {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      backgroundColor: apptheme.scaffoldColor,\r\n      appBar: AppBar(\r\n        backgroundColor: apptheme.secondaryColor,\r\n        title: Row(\r\n          mainAxisAlignment: MainAxisAlignment.center,\r\n          crossAxisAlignment: CrossAxisAlignment.center,\r\n          children: [\r\n            Image.asset(\r\n              \"assets/NewsLogo5.png\",\r\n              width: 100,\r\n            ),\r\n            SizedBox(\r\n              width: 10,\r\n            ),\r\n            ModifiedTexts(text: 'Today', color: Colors.white, size: 35),\r\n          ],\r\n        ),\r\n      ),\r\n      body: BlocBuilder<NavigationBloc, NavigationState>(\r\n        builder: (context, state) {\r\n          if (state is NavigationInitial) {\r\n            return _buildScreen(0, context);\r\n          } else if (state is NavigationSelected) {\r\n            return _buildScreen(state.selectedIndex, context);\r\n          } else {\r\n            return Container();\r\n          }\r\n        },\r\n      ),\r\n      bottomNavigationBar: BlocBuilder<NavigationBloc, NavigationState>(\r\n        builder: (context, state) {\r\n          int currentIndex = 0;\r\n          if (state is NavigationSelected) {\r\n            currentIndex = state.selectedIndex;\r\n          }\r\n          return BottomNavBar(\r\n            currentIndex: currentIndex,\r\n            onTap: (index) {\r\n              if (index == 2) {\r\n                showSearch(context: context, delegate: NewsSearchDelegate());\r\n              } else {\r\n                BlocProvider.of<NavigationBloc>(context).add(SelectTab(index));\r\n                if (index == 0) {\r\n                  BlocProvider.of<NewsBloc>(context).add(ResetNews());\r\n                  BlocProvider.of<NewsBloc>(context).add(FetchTopHeadlines());\r\n                }\r\n              }\r\n            },\r\n          );\r\n        },\r\n      ),\r\n    );\r\n  }\r\n\r\n  Widget _buildScreen(int index, BuildContext context) {\r\n    switch (index) {\r\n      case 0:\r\n        return BlocBuilder<NewsBloc, NewsState>(\r\n          builder: (context, state) {\r\n            if (state is NewsInitial || state is NewsLoading) {\r\n              return Center(child: CircularProgressIndicator());\r\n            } else if (state is NewsLoaded) {\r\n              return buildNewsListView(context, state.news);\r\n            } else if (state is NewsError) {\r\n              return Center(child: Text(state.message));\r\n            } else {\r\n              return Container();\r\n            }\r\n          },\r\n        );\r\n      case 1:\r\n        return CategoriesScreen();\r\n      default:\r\n        return Container();\r\n    }\r\n  }\r\n\r\n  Widget buildNewsListView(BuildContext context, List<NewsArticle> news) {\r\n    return CustomScrollView(\r\n      slivers: [\r\n        SliverToBoxAdapter(\r\n          child: Column(\r\n            crossAxisAlignment: CrossAxisAlignment.start,\r\n            children: [\r\n              Padding(\r\n                padding: const EdgeInsets.symmetric(horizontal: 12.0),\r\n              ),\r\n              NewsCarousel(\r\n                articles: news,\r\n                title: '',\r\n              ),\r\n              SizedBox(height: 20),\r\n              Padding(\r\n                padding: const EdgeInsets.symmetric(horizontal: 12.0),\r\n                child: ModifiedTexts(\r\n                  text: 'Recent News',\r\n                  color: Colors.white,\r\n                  size: 24,\r\n                ),\r\n              ),\r\n              SizedBox(height: 10),\r\n            ],\r\n          ),\r\n        ),\r\n        SliverList(\r\n          delegate: SliverChildBuilderDelegate(\r\n            (context, index) {\r\n              return NewsListItem(article: news[index]);\r\n            },\r\n            childCount: news.length,\r\n          ),\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}